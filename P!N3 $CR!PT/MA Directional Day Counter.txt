// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © gunnjac

//@version=5
indicator("MA Directional Day Counter", overlay=false)

maLength = input.int(50, title="Moving Average Length")
ma = ta.sma(close, maLength)

var int counter = 0

if close > ma
    counter := counter >= 0 ? counter + 1 : 1
else if close < ma
    counter := counter <= 0 ? counter - 1 : -1
else
    counter := 0

plot(counter, title="Above/Below MA Counter", color=color.new(color.blue, 0), linewidth=2)
